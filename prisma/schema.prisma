generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["fullTextSearch", "fullTextIndex"]
  binaryTargets   = ["native"]
}

// datasource db {
//   provider = "postgresql"
//   url      = env("DATABASE_URL")
// }
datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

// Do not modify anything above this line unless you know what you are doing.

model User {
  id String @id @unique @default(cuid())

  email        String   @unique
  firstName    String
  lastName     String
  verified     Boolean  @default(false)
  receiveEmail Boolean  @default(true)
  token        String?  @unique
  // createdAt    DateTime @default(now()) @db.Timestamp(6)
  // updatedAt    DateTime @updatedAt @db.Timestamp(6)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  google_id Int    @unique
  username  String

  auth_session Session[]
  key          Key[]
}

model Key {
  id              String  @id @unique
  hashed_password String?
  user_id         String
  user            User    @relation(references: [id], fields: [user_id], onDelete: Cascade)

  @@index([user_id])
}

model Session {
  id             String @id @unique
  user_id        String
  active_expires BigInt
  idle_expires   BigInt
  user           User   @relation(references: [id], fields: [user_id], onDelete: Cascade)

  @@index([user_id])
}
