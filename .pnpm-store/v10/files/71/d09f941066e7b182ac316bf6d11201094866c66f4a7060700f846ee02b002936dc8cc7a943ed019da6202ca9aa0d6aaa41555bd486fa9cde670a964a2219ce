{"version":3,"file":"time.cjs","names":["PgDateColumnBuilder","entityKind","withTimezone: boolean","precision: number | undefined","PgColumn"],"sources":["../../../src/pg-core/columns/time.ts"],"sourcesContent":["import { entityKind } from '~/entity.ts';\nimport type { PgTable } from '~/pg-core/table.ts';\nimport { getColumnNameAndConfig } from '~/utils.ts';\nimport { PgColumn } from './common.ts';\nimport { PgDateColumnBuilder } from './date.common.ts';\nimport type { Precision } from './timestamp.ts';\n\nexport class PgTimeBuilder extends PgDateColumnBuilder<\n\t{\n\t\tdataType: 'string time';\n\t\tdata: string;\n\t\tdriverParam: string;\n\t},\n\t{ withTimezone: boolean; precision: number | undefined }\n> {\n\tstatic override readonly [entityKind]: string = 'PgTimeBuilder';\n\n\tconstructor(\n\t\tname: string,\n\t\treadonly withTimezone: boolean,\n\t\treadonly precision: number | undefined,\n\t) {\n\t\tsuper(name, 'string time', 'PgTime');\n\t\tthis.config.withTimezone = withTimezone;\n\t\tthis.config.precision = precision;\n\t}\n\n\t/** @internal */\n\toverride build(table: PgTable<any>) {\n\t\treturn new PgTime(table, this.config as any);\n\t}\n}\n\nexport class PgTime extends PgColumn<'string time'> {\n\tstatic override readonly [entityKind]: string = 'PgTime';\n\n\treadonly withTimezone: boolean;\n\treadonly precision: number | undefined;\n\n\tconstructor(table: PgTable<any>, config: PgTimeBuilder['config']) {\n\t\tsuper(table, config);\n\t\tthis.withTimezone = config.withTimezone;\n\t\tthis.precision = config.precision;\n\t}\n\n\tgetSQLType(): string {\n\t\tconst precision = this.precision === undefined ? '' : `(${this.precision})`;\n\t\treturn `time${precision}${this.withTimezone ? ' with time zone' : ''}`;\n\t}\n}\n\nexport interface TimeConfig {\n\tprecision?: Precision;\n\twithTimezone?: boolean;\n}\n\nexport function time(config?: TimeConfig): PgTimeBuilder;\nexport function time(name: string, config?: TimeConfig): PgTimeBuilder;\nexport function time(a?: string | TimeConfig, b: TimeConfig = {}) {\n\tconst { name, config } = getColumnNameAndConfig<TimeConfig>(a, b);\n\treturn new PgTimeBuilder(name, config.withTimezone ?? false, config.precision);\n}\n"],"mappings":";;;;;;;AAOA,IAAa,gBAAb,cAAmCA,wDAOjC;CACD,QAA0BC,0BAAsB;CAEhD,YACC,MACA,AAASC,cACT,AAASC,WACR;AACD,QAAM,MAAM,eAAe,SAAS;EAH3B;EACA;AAGT,OAAK,OAAO,eAAe;AAC3B,OAAK,OAAO,YAAY;;;CAIzB,AAAS,MAAM,OAAqB;AACnC,SAAO,IAAI,OAAO,OAAO,KAAK,OAAc;;;AAI9C,IAAa,SAAb,cAA4BC,wCAAwB;CACnD,QAA0BH,0BAAsB;CAEhD,AAAS;CACT,AAAS;CAET,YAAY,OAAqB,QAAiC;AACjE,QAAM,OAAO,OAAO;AACpB,OAAK,eAAe,OAAO;AAC3B,OAAK,YAAY,OAAO;;CAGzB,aAAqB;AAEpB,SAAO,OADW,KAAK,cAAc,SAAY,KAAK,IAAI,KAAK,UAAU,KAC/C,KAAK,eAAe,oBAAoB;;;AAWpE,SAAgB,KAAK,GAAyB,IAAgB,EAAE,EAAE;CACjE,MAAM,EAAE,MAAM,kDAA8C,GAAG,EAAE;AACjE,QAAO,IAAI,cAAc,MAAM,OAAO,gBAAgB,OAAO,OAAO,UAAU"}