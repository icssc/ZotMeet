{"version":3,"file":"int.common.js","names":[],"sources":["../../../src/cockroach-core/columns/int.common.ts"],"sourcesContent":["import type { ColumnBuilderBaseConfig, ColumnType, GeneratedIdentityConfig, IsIdentity } from '~/column-builder.ts';\nimport { entityKind } from '~/entity.ts';\nimport type { CockroachSequenceOptions } from '../sequence.ts';\nimport { CockroachColumnWithArrayBuilder } from './common.ts';\n\nexport abstract class CockroachIntColumnBaseBuilder<\n\tT extends ColumnBuilderBaseConfig<ColumnType>,\n> extends CockroachColumnWithArrayBuilder<\n\tT,\n\t{ generatedIdentity: GeneratedIdentityConfig }\n> {\n\tstatic override readonly [entityKind]: string = 'CockroachIntColumnBaseBuilder';\n\n\tgeneratedAlwaysAsIdentity(\n\t\tsequence?: CockroachSequenceOptions,\n\t): IsIdentity<this, 'always'> {\n\t\tthis.config.generatedIdentity = sequence\n\t\t\t? {\n\t\t\t\ttype: 'always',\n\t\t\t\tsequenceOptions: sequence,\n\t\t\t}\n\t\t\t: {\n\t\t\t\ttype: 'always',\n\t\t\t};\n\n\t\tthis.config.hasDefault = true;\n\t\tthis.config.notNull = true;\n\n\t\treturn this as IsIdentity<this, 'always'>;\n\t}\n\n\tgeneratedByDefaultAsIdentity(\n\t\tsequence?: CockroachSequenceOptions,\n\t): IsIdentity<this, 'byDefault'> {\n\t\tthis.config.generatedIdentity = sequence\n\t\t\t? {\n\t\t\t\ttype: 'byDefault',\n\t\t\t\tsequenceOptions: sequence,\n\t\t\t}\n\t\t\t: {\n\t\t\t\ttype: 'byDefault',\n\t\t\t};\n\n\t\tthis.config.hasDefault = true;\n\t\tthis.config.notNull = true;\n\n\t\treturn this as IsIdentity<this, 'byDefault'>;\n\t}\n}\n"],"mappings":";;;;AAKA,IAAsB,gCAAtB,cAEU,gCAGR;CACD,QAA0B,cAAsB;CAEhD,0BACC,UAC6B;AAC7B,OAAK,OAAO,oBAAoB,WAC7B;GACD,MAAM;GACN,iBAAiB;GACjB,GACC,EACD,MAAM,UACN;AAEF,OAAK,OAAO,aAAa;AACzB,OAAK,OAAO,UAAU;AAEtB,SAAO;;CAGR,6BACC,UACgC;AAChC,OAAK,OAAO,oBAAoB,WAC7B;GACD,MAAM;GACN,iBAAiB;GACjB,GACC,EACD,MAAM,aACN;AAEF,OAAK,OAAO,aAAa;AACzB,OAAK,OAAO,UAAU;AAEtB,SAAO"}