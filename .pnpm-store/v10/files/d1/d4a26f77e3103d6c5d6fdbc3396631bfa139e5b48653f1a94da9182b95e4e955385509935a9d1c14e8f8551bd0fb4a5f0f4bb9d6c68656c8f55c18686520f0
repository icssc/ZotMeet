{"version":3,"file":"real.js","names":[],"sources":["../../../src/cockroach-core/columns/real.ts"],"sourcesContent":["import type { AnyCockroachTable, CockroachTable } from '~/cockroach-core/table.ts';\nimport type { ColumnBaseConfig } from '~/column.ts';\nimport { entityKind } from '~/entity.ts';\nimport { CockroachColumn, CockroachColumnWithArrayBuilder } from './common.ts';\n\nexport class CockroachRealBuilder extends CockroachColumnWithArrayBuilder<\n\t{\n\t\tdataType: 'number float';\n\t\tdata: number;\n\t\tdriverParam: string | number;\n\t},\n\t{ length: number | undefined }\n> {\n\tstatic override readonly [entityKind]: string = 'CockroachRealBuilder';\n\n\tconstructor(name: string, length?: number) {\n\t\tsuper(name, 'number float', 'CockroachReal');\n\t\tthis.config.length = length;\n\t}\n\n\t/** @internal */\n\toverride build<TTableName extends string>(\n\t\ttable: AnyCockroachTable<{ name: TTableName }>,\n\t) {\n\t\treturn new CockroachReal(\n\t\t\ttable,\n\t\t\tthis.config,\n\t\t);\n\t}\n}\n\nexport class CockroachReal<T extends ColumnBaseConfig<'number float'>> extends CockroachColumn<T> {\n\tstatic override readonly [entityKind]: string = 'CockroachReal';\n\n\tconstructor(table: CockroachTable<any>, config: CockroachRealBuilder['config']) {\n\t\tsuper(table, config);\n\t}\n\n\tgetSQLType(): string {\n\t\treturn 'real';\n\t}\n\n\toverride mapFromDriverValue = (value: string | number): number => {\n\t\tif (typeof value === 'string') {\n\t\t\treturn Number.parseFloat(value);\n\t\t}\n\t\treturn value;\n\t};\n}\n\nexport function real(name?: string) {\n\treturn new CockroachRealBuilder(name ?? '');\n}\n"],"mappings":";;;;AAKA,IAAa,uBAAb,cAA0C,gCAOxC;CACD,QAA0B,cAAsB;CAEhD,YAAY,MAAc,QAAiB;AAC1C,QAAM,MAAM,gBAAgB,gBAAgB;AAC5C,OAAK,OAAO,SAAS;;;CAItB,AAAS,MACR,OACC;AACD,SAAO,IAAI,cACV,OACA,KAAK,OACL;;;AAIH,IAAa,gBAAb,cAA+E,gBAAmB;CACjG,QAA0B,cAAsB;CAEhD,YAAY,OAA4B,QAAwC;AAC/E,QAAM,OAAO,OAAO;;CAGrB,aAAqB;AACpB,SAAO;;CAGR,AAAS,sBAAsB,UAAmC;AACjE,MAAI,OAAO,UAAU,SACpB,QAAO,OAAO,WAAW,MAAM;AAEhC,SAAO;;;AAIT,SAAgB,KAAK,MAAe;AACnC,QAAO,IAAI,qBAAqB,QAAQ,GAAG"}