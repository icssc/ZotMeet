{"version":3,"sources":["../../../src/pages/_document.tsx"],"sourcesContent":["/// <reference types=\"webpack/module.d.ts\" />\n\nimport React, { type JSX } from 'react'\nimport { NEXT_BUILTIN_DOCUMENT } from '../shared/lib/constants'\nimport type {\n  DocumentContext,\n  DocumentInitialProps,\n  DocumentProps,\n  DocumentType,\n  NEXT_DATA,\n} from '../shared/lib/utils'\nimport type { ScriptProps } from '../client/script'\nimport type { NextFontManifest } from '../build/webpack/plugins/next-font-manifest-plugin'\n\nimport { getPageFiles } from '../server/get-page-files'\nimport type { BuildManifest } from '../server/get-page-files'\nimport { htmlEscapeJsonString } from '../server/htmlescape'\nimport isError from '../lib/is-error'\n\nimport {\n  HtmlContext,\n  useHtmlContext,\n} from '../shared/lib/html-context.shared-runtime'\nimport type { HtmlProps } from '../shared/lib/html-context.shared-runtime'\nimport { encodeURIPath } from '../shared/lib/encode-uri-path'\nimport type { DeepReadonly } from '../shared/lib/deep-readonly'\nimport { getTracer } from '../server/lib/trace/tracer'\nimport { getTracedMetadata } from '../server/lib/trace/utils'\n\nexport type { DocumentContext, DocumentInitialProps, DocumentProps }\n\nexport type OriginProps = {\n  nonce?: string\n  crossOrigin?: 'anonymous' | 'use-credentials' | '' | undefined\n  children?: React.ReactNode\n}\n\ntype DocumentFiles = {\n  sharedFiles: readonly string[]\n  pageFiles: readonly string[]\n  allFiles: readonly string[]\n}\n\ntype HeadHTMLProps = React.DetailedHTMLProps<\n  React.HTMLAttributes<HTMLHeadElement>,\n  HTMLHeadElement\n>\n\ntype HeadProps = OriginProps & HeadHTMLProps\n\n/** Set of pages that have triggered a large data warning on production mode. */\nconst largePageDataWarnings = new Set<string>()\n\nfunction getDocumentFiles(\n  buildManifest: BuildManifest,\n  pathname: string\n): DocumentFiles {\n  const sharedFiles: readonly string[] = getPageFiles(buildManifest, '/_app')\n  const pageFiles: readonly string[] = getPageFiles(buildManifest, pathname)\n\n  return {\n    sharedFiles,\n    pageFiles,\n    allFiles: [...new Set([...sharedFiles, ...pageFiles])],\n  }\n}\n\nfunction getPolyfillScripts(context: HtmlProps, props: OriginProps) {\n  // polyfills.js has to be rendered as nomodule without async\n  // It also has to be the first script to load\n  const {\n    assetPrefix,\n    buildManifest,\n    assetQueryString,\n    disableOptimizedLoading,\n    crossOrigin,\n  } = context\n\n  return buildManifest.polyfillFiles\n    .filter(\n      (polyfill) => polyfill.endsWith('.js') && !polyfill.endsWith('.module.js')\n    )\n    .map((polyfill) => (\n      <script\n        key={polyfill}\n        defer={!disableOptimizedLoading}\n        nonce={props.nonce}\n        crossOrigin={props.crossOrigin || crossOrigin}\n        noModule={true}\n        src={`${assetPrefix}/_next/${encodeURIPath(\n          polyfill\n        )}${assetQueryString}`}\n      />\n    ))\n}\n\nfunction hasComponentProps(child: any): child is React.ReactElement<any> {\n  return !!child && !!child.props\n}\n\nfunction getDynamicChunks(\n  context: HtmlProps,\n  props: OriginProps,\n  files: DocumentFiles\n) {\n  const {\n    dynamicImports,\n    assetPrefix,\n    isDevelopment,\n    assetQueryString,\n    disableOptimizedLoading,\n    crossOrigin,\n  } = context\n\n  return dynamicImports.map((file) => {\n    if (!file.endsWith('.js') || files.allFiles.includes(file)) return null\n\n    return (\n      <script\n        async={!isDevelopment && disableOptimizedLoading}\n        defer={!disableOptimizedLoading}\n        key={file}\n        src={`${assetPrefix}/_next/${encodeURIPath(file)}${assetQueryString}`}\n        nonce={props.nonce}\n        crossOrigin={props.crossOrigin || crossOrigin}\n      />\n    )\n  })\n}\n\nfunction getScripts(\n  context: HtmlProps,\n  props: OriginProps,\n  files: DocumentFiles\n) {\n  const {\n    assetPrefix,\n    buildManifest,\n    isDevelopment,\n    assetQueryString,\n    disableOptimizedLoading,\n    crossOrigin,\n  } = context\n\n  const normalScripts = files.allFiles.filter((file) => file.endsWith('.js'))\n  const lowPriorityScripts = buildManifest.lowPriorityFiles?.filter((file) =>\n    file.endsWith('.js')\n  )\n\n  return [...normalScripts, ...lowPriorityScripts].map((file) => {\n    return (\n      <script\n        key={file}\n        src={`${assetPrefix}/_next/${encodeURIPath(file)}${assetQueryString}`}\n        nonce={props.nonce}\n        async={!isDevelopment && disableOptimizedLoading}\n        defer={!disableOptimizedLoading}\n        crossOrigin={props.crossOrigin || crossOrigin}\n      />\n    )\n  })\n}\n\nfunction getPreNextWorkerScripts(context: HtmlProps, props: OriginProps) {\n  const { assetPrefix, scriptLoader, crossOrigin, nextScriptWorkers } = context\n\n  // disable `nextScriptWorkers` in edge runtime\n  if (!nextScriptWorkers || process.env.NEXT_RUNTIME === 'edge') return null\n\n  try {\n    // @ts-expect-error: Prevent webpack from processing this require\n    let { partytownSnippet } = __non_webpack_require__(\n      '@builder.io/partytown/integration'!\n    )\n\n    const children = Array.isArray(props.children)\n      ? props.children\n      : [props.children]\n\n    // Check to see if the user has defined their own Partytown configuration\n    const userDefinedConfig = children.find(\n      (child) =>\n        hasComponentProps(child) &&\n        child?.props?.dangerouslySetInnerHTML?.__html.length &&\n        'data-partytown-config' in child.props\n    )\n\n    return (\n      <>\n        {!userDefinedConfig && (\n          <script\n            data-partytown-config=\"\"\n            dangerouslySetInnerHTML={{\n              __html: `\n            partytown = {\n              lib: \"${assetPrefix}/_next/static/~partytown/\"\n            };\n          `,\n            }}\n          />\n        )}\n        <script\n          data-partytown=\"\"\n          dangerouslySetInnerHTML={{\n            __html: partytownSnippet(),\n          }}\n        />\n        {(scriptLoader.worker || []).map((file: ScriptProps, index: number) => {\n          const {\n            strategy,\n            src,\n            children: scriptChildren,\n            dangerouslySetInnerHTML,\n            ...scriptProps\n          } = file\n\n          let srcProps: {\n            src?: string\n            dangerouslySetInnerHTML?: ScriptProps['dangerouslySetInnerHTML']\n          } = {}\n\n          if (src) {\n            // Use external src if provided\n            srcProps.src = src\n          } else if (\n            dangerouslySetInnerHTML &&\n            dangerouslySetInnerHTML.__html\n          ) {\n            // Embed inline script if provided with dangerouslySetInnerHTML\n            srcProps.dangerouslySetInnerHTML = {\n              __html: dangerouslySetInnerHTML.__html,\n            }\n          } else if (scriptChildren) {\n            // Embed inline script if provided with children\n            srcProps.dangerouslySetInnerHTML = {\n              __html:\n                typeof scriptChildren === 'string'\n                  ? scriptChildren\n                  : Array.isArray(scriptChildren)\n                    ? scriptChildren.join('')\n                    : '',\n            }\n          } else {\n            throw new Error(\n              'Invalid usage of next/script. Did you forget to include a src attribute or an inline script? https://nextjs.org/docs/messages/invalid-script'\n            )\n          }\n\n          return (\n            <script\n              {...srcProps}\n              {...scriptProps}\n              type=\"text/partytown\"\n              key={src || index}\n              nonce={props.nonce}\n              data-nscript=\"worker\"\n              crossOrigin={props.crossOrigin || crossOrigin}\n            />\n          )\n        })}\n      </>\n    )\n  } catch (err) {\n    if (isError(err) && err.code !== 'MODULE_NOT_FOUND') {\n      console.warn(`Warning: ${err.message}`)\n    }\n    return null\n  }\n}\n\nfunction getPreNextScripts(context: HtmlProps, props: OriginProps) {\n  const { scriptLoader, disableOptimizedLoading, crossOrigin } = context\n\n  const webWorkerScripts = getPreNextWorkerScripts(context, props)\n\n  const beforeInteractiveScripts = (scriptLoader.beforeInteractive || [])\n    .filter((script) => script.src)\n    .map((file: ScriptProps, index: number) => {\n      const { strategy, ...scriptProps } = file\n      return (\n        <script\n          {...scriptProps}\n          key={scriptProps.src || index}\n          defer={scriptProps.defer ?? !disableOptimizedLoading}\n          nonce={scriptProps.nonce || props.nonce}\n          data-nscript=\"beforeInteractive\"\n          crossOrigin={props.crossOrigin || crossOrigin}\n        />\n      )\n    })\n\n  return (\n    <>\n      {webWorkerScripts}\n      {beforeInteractiveScripts}\n    </>\n  )\n}\n\nfunction getHeadHTMLProps(props: HeadProps) {\n  const { crossOrigin, nonce, ...restProps } = props\n\n  // This assignment is necessary for additional type checking to avoid unsupported attributes in <head>\n  const headProps: HeadHTMLProps & {\n    [P in Exclude<keyof HeadProps, keyof HeadHTMLProps>]?: never\n  } = restProps\n\n  return headProps\n}\n\nfunction getNextFontLinkTags(\n  nextFontManifest: DeepReadonly<NextFontManifest> | undefined,\n  dangerousAsPath: string,\n  assetPrefix: string = ''\n) {\n  if (!nextFontManifest) {\n    return {\n      preconnect: null,\n      preload: null,\n    }\n  }\n\n  const appFontsEntry = nextFontManifest.pages['/_app']\n  const pageFontsEntry = nextFontManifest.pages[dangerousAsPath]\n\n  const preloadedFontFiles = Array.from(\n    new Set([...(appFontsEntry ?? []), ...(pageFontsEntry ?? [])])\n  )\n\n  // If no font files should preload but there's an entry for the path, add a preconnect tag.\n  const preconnectToSelf = !!(\n    preloadedFontFiles.length === 0 &&\n    (appFontsEntry || pageFontsEntry)\n  )\n\n  return {\n    preconnect: preconnectToSelf ? (\n      <link\n        data-next-font={\n          nextFontManifest.pagesUsingSizeAdjust ? 'size-adjust' : ''\n        }\n        rel=\"preconnect\"\n        href=\"/\"\n        crossOrigin=\"anonymous\"\n      />\n    ) : null,\n    preload: preloadedFontFiles\n      ? preloadedFontFiles.map((fontFile) => {\n          const ext = /\\.(woff|woff2|eot|ttf|otf)$/.exec(fontFile)![1]\n          return (\n            <link\n              key={fontFile}\n              rel=\"preload\"\n              href={`${assetPrefix}/_next/${encodeURIPath(fontFile)}`}\n              as=\"font\"\n              type={`font/${ext}`}\n              crossOrigin=\"anonymous\"\n              data-next-font={fontFile.includes('-s') ? 'size-adjust' : ''}\n            />\n          )\n        })\n      : null,\n  }\n}\n\n// Use `React.Component` to avoid errors from the RSC checks because\n// it can't be imported directly in Server Components:\n//\n//   import { Component } from 'react'\n//\n// More info: https://github.com/vercel/next.js/pull/40686\nexport class Head extends React.Component<HeadProps> {\n  static contextType = HtmlContext\n\n  context!: HtmlProps\n\n  getCssLinks(files: DocumentFiles): JSX.Element[] | null {\n    const {\n      assetPrefix,\n      assetQueryString,\n      dynamicImports,\n      dynamicCssManifest,\n      crossOrigin,\n      optimizeCss,\n    } = this.context\n    const cssFiles = files.allFiles.filter((f) => f.endsWith('.css'))\n    const sharedFiles: Set<string> = new Set(files.sharedFiles)\n\n    // Unmanaged files are CSS files that will be handled directly by the\n    // webpack runtime (`mini-css-extract-plugin`).\n    let unmanagedFiles: Set<string> = new Set([])\n    let localDynamicCssFiles = Array.from(\n      new Set(dynamicImports.filter((file) => file.endsWith('.css')))\n    )\n    if (localDynamicCssFiles.length) {\n      const existing = new Set(cssFiles)\n      localDynamicCssFiles = localDynamicCssFiles.filter(\n        (f) => !(existing.has(f) || sharedFiles.has(f))\n      )\n      unmanagedFiles = new Set(localDynamicCssFiles)\n      cssFiles.push(...localDynamicCssFiles)\n    }\n\n    let cssLinkElements: JSX.Element[] = []\n    cssFiles.forEach((file) => {\n      const isSharedFile = sharedFiles.has(file)\n      const isUnmanagedFile = unmanagedFiles.has(file)\n      const isFileInDynamicCssManifest = dynamicCssManifest.has(file)\n\n      if (!optimizeCss) {\n        cssLinkElements.push(\n          <link\n            key={`${file}-preload`}\n            nonce={this.props.nonce}\n            rel=\"preload\"\n            href={`${assetPrefix}/_next/${encodeURIPath(\n              file\n            )}${assetQueryString}`}\n            as=\"style\"\n            crossOrigin={this.props.crossOrigin || crossOrigin}\n          />\n        )\n      }\n\n      cssLinkElements.push(\n        <link\n          key={file}\n          nonce={this.props.nonce}\n          rel=\"stylesheet\"\n          href={`${assetPrefix}/_next/${encodeURIPath(\n            file\n          )}${assetQueryString}`}\n          crossOrigin={this.props.crossOrigin || crossOrigin}\n          data-n-g={isUnmanagedFile ? undefined : isSharedFile ? '' : undefined}\n          data-n-p={\n            isSharedFile || isUnmanagedFile || isFileInDynamicCssManifest\n              ? undefined\n              : ''\n          }\n        />\n      )\n    })\n\n    return cssLinkElements.length === 0 ? null : cssLinkElements\n  }\n\n  getPreloadDynamicChunks() {\n    const { dynamicImports, assetPrefix, assetQueryString, crossOrigin } =\n      this.context\n\n    return (\n      dynamicImports\n        .map((file) => {\n          if (!file.endsWith('.js')) {\n            return null\n          }\n\n          return (\n            <link\n              rel=\"preload\"\n              key={file}\n              href={`${assetPrefix}/_next/${encodeURIPath(\n                file\n              )}${assetQueryString}`}\n              as=\"script\"\n              nonce={this.props.nonce}\n              crossOrigin={this.props.crossOrigin || crossOrigin}\n            />\n          )\n        })\n        // Filter out nulled scripts\n        .filter(Boolean)\n    )\n  }\n\n  getPreloadMainLinks(files: DocumentFiles): JSX.Element[] | null {\n    const { assetPrefix, assetQueryString, scriptLoader, crossOrigin } =\n      this.context\n    const preloadFiles = files.allFiles.filter((file: string) => {\n      return file.endsWith('.js')\n    })\n\n    return [\n      ...(scriptLoader.beforeInteractive || []).map((file) => (\n        <link\n          key={file.src}\n          nonce={this.props.nonce}\n          rel=\"preload\"\n          href={file.src}\n          as=\"script\"\n          crossOrigin={this.props.crossOrigin || crossOrigin}\n        />\n      )),\n      ...preloadFiles.map((file: string) => (\n        <link\n          key={file}\n          nonce={this.props.nonce}\n          rel=\"preload\"\n          href={`${assetPrefix}/_next/${encodeURIPath(\n            file\n          )}${assetQueryString}`}\n          as=\"script\"\n          crossOrigin={this.props.crossOrigin || crossOrigin}\n        />\n      )),\n    ]\n  }\n\n  getBeforeInteractiveInlineScripts() {\n    const { scriptLoader } = this.context\n    const { nonce, crossOrigin } = this.props\n\n    return (scriptLoader.beforeInteractive || [])\n      .filter(\n        (script) =>\n          !script.src && (script.dangerouslySetInnerHTML || script.children)\n      )\n      .map((file: ScriptProps, index: number) => {\n        const {\n          strategy,\n          children,\n          dangerouslySetInnerHTML,\n          src,\n          ...scriptProps\n        } = file\n        let html: NonNullable<\n          ScriptProps['dangerouslySetInnerHTML']\n        >['__html'] = ''\n\n        if (dangerouslySetInnerHTML && dangerouslySetInnerHTML.__html) {\n          html = dangerouslySetInnerHTML.__html\n        } else if (children) {\n          html =\n            typeof children === 'string'\n              ? children\n              : Array.isArray(children)\n                ? children.join('')\n                : ''\n        }\n\n        return (\n          <script\n            {...scriptProps}\n            dangerouslySetInnerHTML={{ __html: html }}\n            key={scriptProps.id || index}\n            nonce={nonce}\n            data-nscript=\"beforeInteractive\"\n            crossOrigin={\n              crossOrigin ||\n              (process.env.__NEXT_CROSS_ORIGIN as typeof crossOrigin)\n            }\n          />\n        )\n      })\n  }\n\n  getDynamicChunks(files: DocumentFiles) {\n    return getDynamicChunks(this.context, this.props, files)\n  }\n\n  getPreNextScripts() {\n    return getPreNextScripts(this.context, this.props)\n  }\n\n  getScripts(files: DocumentFiles) {\n    return getScripts(this.context, this.props, files)\n  }\n\n  getPolyfillScripts() {\n    return getPolyfillScripts(this.context, this.props)\n  }\n\n  render() {\n    const {\n      styles,\n      __NEXT_DATA__,\n      dangerousAsPath,\n      headTags,\n      unstable_runtimeJS,\n      unstable_JsPreload,\n      disableOptimizedLoading,\n      optimizeCss,\n      assetPrefix,\n      nextFontManifest,\n    } = this.context\n\n    const disableRuntimeJS = unstable_runtimeJS === false\n    const disableJsPreload =\n      unstable_JsPreload === false || !disableOptimizedLoading\n\n    this.context.docComponentsRendered.Head = true\n\n    let { head } = this.context\n    let cssPreloads: Array<JSX.Element> = []\n    let otherHeadElements: Array<JSX.Element> = []\n    if (head) {\n      head.forEach((child) => {\n        if (\n          child &&\n          child.type === 'link' &&\n          child.props['rel'] === 'preload' &&\n          child.props['as'] === 'style'\n        ) {\n          cssPreloads.push(child)\n        } else {\n          if (child) {\n            otherHeadElements.push(\n              React.cloneElement(child, { 'data-next-head': '' })\n            )\n          }\n        }\n      })\n      head = cssPreloads.concat(otherHeadElements)\n    }\n    let children: React.ReactNode[] = React.Children.toArray(\n      this.props.children\n    ).filter(Boolean)\n    // show a warning if Head contains <title> (only in development)\n    if (process.env.NODE_ENV !== 'production') {\n      children = React.Children.map(children, (child: any) => {\n        const isReactHelmet = child?.props?.['data-react-helmet']\n        if (!isReactHelmet) {\n          if (child?.type === 'title') {\n            console.warn(\n              \"Warning: <title> should not be used in _document.js's <Head>. https://nextjs.org/docs/messages/no-document-title\"\n            )\n          } else if (\n            child?.type === 'meta' &&\n            child?.props?.name === 'viewport'\n          ) {\n            console.warn(\n              \"Warning: viewport meta tags should not be used in _document.js's <Head>. https://nextjs.org/docs/messages/no-document-viewport-meta\"\n            )\n          }\n        }\n        return child\n        // @types/react bug. Returned value from .map will not be `null` if you pass in `[null]`\n      })!\n      if (this.props.crossOrigin)\n        console.warn(\n          'Warning: `Head` attribute `crossOrigin` is deprecated. https://nextjs.org/docs/messages/doc-crossorigin-deprecated'\n        )\n    }\n\n    const files: DocumentFiles = getDocumentFiles(\n      this.context.buildManifest,\n      this.context.__NEXT_DATA__.page\n    )\n\n    const nextFontLinkTags = getNextFontLinkTags(\n      nextFontManifest,\n      dangerousAsPath,\n      assetPrefix\n    )\n\n    const tracingMetadata = getTracedMetadata(\n      getTracer().getTracePropagationData(),\n      this.context.experimentalClientTraceMetadata\n    )\n\n    const traceMetaTags = (tracingMetadata || []).map(\n      ({ key, value }, index) => (\n        <meta key={`next-trace-data-${index}`} name={key} content={value} />\n      )\n    )\n\n    return (\n      <head {...getHeadHTMLProps(this.props)}>\n        {this.context.isDevelopment && (\n          <>\n            <style\n              data-next-hide-fouc\n              dangerouslySetInnerHTML={{\n                __html: `body{display:none}`,\n              }}\n            />\n            <noscript data-next-hide-fouc>\n              <style\n                dangerouslySetInnerHTML={{\n                  __html: `body{display:block}`,\n                }}\n              />\n            </noscript>\n          </>\n        )}\n        {head}\n\n        {children}\n\n        {nextFontLinkTags.preconnect}\n        {nextFontLinkTags.preload}\n\n        {this.getBeforeInteractiveInlineScripts()}\n        {!optimizeCss && this.getCssLinks(files)}\n        {!optimizeCss && <noscript data-n-css={this.props.nonce ?? ''} />}\n\n        {!disableRuntimeJS &&\n          !disableJsPreload &&\n          this.getPreloadDynamicChunks()}\n        {!disableRuntimeJS &&\n          !disableJsPreload &&\n          this.getPreloadMainLinks(files)}\n\n        {!disableOptimizedLoading &&\n          !disableRuntimeJS &&\n          this.getPolyfillScripts()}\n\n        {!disableOptimizedLoading &&\n          !disableRuntimeJS &&\n          this.getPreNextScripts()}\n        {!disableOptimizedLoading &&\n          !disableRuntimeJS &&\n          this.getDynamicChunks(files)}\n        {!disableOptimizedLoading &&\n          !disableRuntimeJS &&\n          this.getScripts(files)}\n\n        {optimizeCss && this.getCssLinks(files)}\n        {optimizeCss && <noscript data-n-css={this.props.nonce ?? ''} />}\n        {this.context.isDevelopment && (\n          // this element is used to mount development styles so the\n          // ordering matches production\n          // (by default, style-loader injects at the bottom of <head />)\n          <noscript id=\"__next_css__DO_NOT_USE__\" />\n        )}\n        {traceMetaTags}\n        {styles || null}\n\n        {React.createElement(React.Fragment, {}, ...(headTags || []))}\n      </head>\n    )\n  }\n}\n\nfunction handleDocumentScriptLoaderItems(\n  scriptLoader: { beforeInteractive?: any[] },\n  __NEXT_DATA__: NEXT_DATA,\n  props: any\n): void {\n  if (!props.children) return\n\n  const scriptLoaderItems: ScriptProps[] = []\n\n  const children = Array.isArray(props.children)\n    ? props.children\n    : [props.children]\n\n  const headChildren = children.find(\n    (child: React.ReactElement) => child.type === Head\n  )?.props?.children\n  const bodyChildren = children.find(\n    (child: React.ReactElement) => child.type === 'body'\n  )?.props?.children\n\n  // Scripts with beforeInteractive can be placed inside Head or <body> so children of both needs to be traversed\n  const combinedChildren = [\n    ...(Array.isArray(headChildren) ? headChildren : [headChildren]),\n    ...(Array.isArray(bodyChildren) ? bodyChildren : [bodyChildren]),\n  ]\n\n  React.Children.forEach(combinedChildren, (child: any) => {\n    if (!child) return\n\n    // When using the `next/script` component, register it in script loader.\n    if (child.type?.__nextScript) {\n      if (child.props.strategy === 'beforeInteractive') {\n        scriptLoader.beforeInteractive = (\n          scriptLoader.beforeInteractive || []\n        ).concat([\n          {\n            ...child.props,\n          },\n        ])\n        return\n      } else if (\n        ['lazyOnload', 'afterInteractive', 'worker'].includes(\n          child.props.strategy\n        )\n      ) {\n        scriptLoaderItems.push(child.props)\n        return\n      } else if (typeof child.props.strategy === 'undefined') {\n        scriptLoaderItems.push({ ...child.props, strategy: 'afterInteractive' })\n        return\n      }\n    }\n  })\n\n  __NEXT_DATA__.scriptLoader = scriptLoaderItems\n}\n\nexport class NextScript extends React.Component<OriginProps> {\n  static contextType = HtmlContext\n\n  context!: HtmlProps\n\n  getDynamicChunks(files: DocumentFiles) {\n    return getDynamicChunks(this.context, this.props, files)\n  }\n\n  getPreNextScripts() {\n    return getPreNextScripts(this.context, this.props)\n  }\n\n  getScripts(files: DocumentFiles) {\n    return getScripts(this.context, this.props, files)\n  }\n\n  getPolyfillScripts() {\n    return getPolyfillScripts(this.context, this.props)\n  }\n\n  static getInlineScriptSource(context: Readonly<HtmlProps>): string {\n    const { __NEXT_DATA__, largePageDataBytes } = context\n    try {\n      const data = JSON.stringify(__NEXT_DATA__)\n\n      if (largePageDataWarnings.has(__NEXT_DATA__.page)) {\n        return htmlEscapeJsonString(data)\n      }\n\n      const bytes =\n        process.env.NEXT_RUNTIME === 'edge'\n          ? new TextEncoder().encode(data).buffer.byteLength\n          : Buffer.from(data).byteLength\n      const prettyBytes = (\n        require('../lib/pretty-bytes') as typeof import('../lib/pretty-bytes')\n      ).default\n\n      if (largePageDataBytes && bytes > largePageDataBytes) {\n        if (process.env.NODE_ENV === 'production') {\n          largePageDataWarnings.add(__NEXT_DATA__.page)\n        }\n\n        console.warn(\n          `Warning: data for page \"${__NEXT_DATA__.page}\"${\n            __NEXT_DATA__.page === context.dangerousAsPath\n              ? ''\n              : ` (path \"${context.dangerousAsPath}\")`\n          } is ${prettyBytes(\n            bytes\n          )} which exceeds the threshold of ${prettyBytes(\n            largePageDataBytes\n          )}, this amount of data can reduce performance.\\nSee more info here: https://nextjs.org/docs/messages/large-page-data`\n        )\n      }\n\n      return htmlEscapeJsonString(data)\n    } catch (err) {\n      if (isError(err) && err.message.indexOf('circular structure') !== -1) {\n        throw new Error(\n          `Circular structure in \"getInitialProps\" result of page \"${__NEXT_DATA__.page}\". https://nextjs.org/docs/messages/circular-structure`\n        )\n      }\n      throw err\n    }\n  }\n\n  render() {\n    const {\n      assetPrefix,\n      buildManifest,\n      unstable_runtimeJS,\n      docComponentsRendered,\n      assetQueryString,\n      disableOptimizedLoading,\n      crossOrigin,\n    } = this.context\n    const disableRuntimeJS = unstable_runtimeJS === false\n\n    docComponentsRendered.NextScript = true\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (this.props.crossOrigin)\n        console.warn(\n          'Warning: `NextScript` attribute `crossOrigin` is deprecated. https://nextjs.org/docs/messages/doc-crossorigin-deprecated'\n        )\n    }\n\n    const files: DocumentFiles = getDocumentFiles(\n      this.context.buildManifest,\n      this.context.__NEXT_DATA__.page\n    )\n\n    return (\n      <>\n        {!disableRuntimeJS && buildManifest.devFiles\n          ? buildManifest.devFiles.map((file: string) => (\n              <script\n                key={file}\n                src={`${assetPrefix}/_next/${encodeURIPath(\n                  file\n                )}${assetQueryString}`}\n                nonce={this.props.nonce}\n                crossOrigin={this.props.crossOrigin || crossOrigin}\n              />\n            ))\n          : null}\n        {disableRuntimeJS ? null : (\n          <script\n            id=\"__NEXT_DATA__\"\n            type=\"application/json\"\n            nonce={this.props.nonce}\n            crossOrigin={this.props.crossOrigin || crossOrigin}\n            dangerouslySetInnerHTML={{\n              __html: NextScript.getInlineScriptSource(this.context),\n            }}\n          />\n        )}\n        {disableOptimizedLoading &&\n          !disableRuntimeJS &&\n          this.getPolyfillScripts()}\n        {disableOptimizedLoading &&\n          !disableRuntimeJS &&\n          this.getPreNextScripts()}\n        {disableOptimizedLoading &&\n          !disableRuntimeJS &&\n          this.getDynamicChunks(files)}\n        {disableOptimizedLoading && !disableRuntimeJS && this.getScripts(files)}\n      </>\n    )\n  }\n}\n\nexport function Html(\n  props: React.DetailedHTMLProps<\n    React.HtmlHTMLAttributes<HTMLHtmlElement>,\n    HTMLHtmlElement\n  >\n) {\n  const { docComponentsRendered, locale, scriptLoader, __NEXT_DATA__ } =\n    useHtmlContext()\n\n  docComponentsRendered.Html = true\n  handleDocumentScriptLoaderItems(scriptLoader, __NEXT_DATA__, props)\n\n  return <html {...props} lang={props.lang || locale || undefined} />\n}\n\nexport function Main() {\n  const { docComponentsRendered } = useHtmlContext()\n  docComponentsRendered.Main = true\n  // @ts-ignore\n  return <next-js-internal-body-render-target />\n}\n\n/**\n * `Document` component handles the initial `document` markup and renders only on the server side.\n * Commonly used for implementing server side rendering for `css-in-js` libraries.\n */\nexport default class Document<P = {}> extends React.Component<\n  DocumentProps & P\n> {\n  /**\n   * `getInitialProps` hook returns the context object with the addition of `renderPage`.\n   * `renderPage` callback executes `React` rendering logic synchronously to support server-rendering wrappers\n   */\n  static getInitialProps(ctx: DocumentContext): Promise<DocumentInitialProps> {\n    return ctx.defaultGetInitialProps(ctx)\n  }\n\n  render() {\n    return (\n      <Html>\n        <Head nonce={this.props.nonce} />\n        <body>\n          <Main />\n          <NextScript nonce={this.props.nonce} />\n        </body>\n      </Html>\n    )\n  }\n}\n\n// Add a special property to the built-in `Document` component so later we can\n// identify if a user customized `Document` is used or not.\nconst InternalFunctionDocument: DocumentType =\n  function InternalFunctionDocument() {\n    return (\n      <Html>\n        <Head />\n        <body>\n          <Main />\n          <NextScript />\n        </body>\n      </Html>\n    )\n  }\n;(Document as any)[NEXT_BUILTIN_DOCUMENT] = InternalFunctionDocument\n"],"names":["React","NEXT_BUILTIN_DOCUMENT","getPageFiles","htmlEscapeJsonString","isError","HtmlContext","useHtmlContext","encodeURIPath","getTracer","getTracedMetadata","largePageDataWarnings","Set","getDocumentFiles","buildManifest","pathname","sharedFiles","pageFiles","allFiles","getPolyfillScripts","context","props","assetPrefix","assetQueryString","disableOptimizedLoading","crossOrigin","polyfillFiles","filter","polyfill","endsWith","map","script","defer","nonce","noModule","src","hasComponentProps","child","getDynamicChunks","files","dynamicImports","isDevelopment","file","includes","async","getScripts","normalScripts","lowPriorityScripts","lowPriorityFiles","getPreNextWorkerScripts","scriptLoader","nextScriptWorkers","process","env","NEXT_RUNTIME","partytownSnippet","__non_webpack_require__","children","Array","isArray","userDefinedConfig","find","dangerouslySetInnerHTML","__html","length","data-partytown-config","data-partytown","worker","index","strategy","scriptChildren","scriptProps","srcProps","join","Error","type","key","data-nscript","err","code","console","warn","message","getPreNextScripts","webWorkerScripts","beforeInteractiveScripts","beforeInteractive","getHeadHTMLProps","restProps","headProps","getNextFontLinkTags","nextFontManifest","dangerousAsPath","preconnect","preload","appFontsEntry","pages","pageFontsEntry","preloadedFontFiles","from","preconnectToSelf","link","data-next-font","pagesUsingSizeAdjust","rel","href","fontFile","ext","exec","as","Head","Component","contextType","getCssLinks","dynamicCssManifest","optimizeCss","cssFiles","f","unmanagedFiles","localDynamicCssFiles","existing","has","push","cssLinkElements","forEach","isSharedFile","isUnmanagedFile","isFileInDynamicCssManifest","data-n-g","undefined","data-n-p","getPreloadDynamicChunks","Boolean","getPreloadMainLinks","preloadFiles","getBeforeInteractiveInlineScripts","html","id","__NEXT_CROSS_ORIGIN","render","styles","__NEXT_DATA__","headTags","unstable_runtimeJS","unstable_JsPreload","disableRuntimeJS","disableJsPreload","docComponentsRendered","head","cssPreloads","otherHeadElements","cloneElement","concat","Children","toArray","NODE_ENV","isReactHelmet","name","page","nextFontLinkTags","tracingMetadata","getTracePropagationData","experimentalClientTraceMetadata","traceMetaTags","value","meta","content","style","data-next-hide-fouc","noscript","data-n-css","createElement","Fragment","handleDocumentScriptLoaderItems","scriptLoaderItems","headChildren","bodyChildren","combinedChildren","__nextScript","NextScript","getInlineScriptSource","largePageDataBytes","data","JSON","stringify","bytes","TextEncoder","encode","buffer","byteLength","Buffer","prettyBytes","require","default","add","indexOf","devFiles","Html","locale","lang","Main","next-js-internal-body-render-target","Document","getInitialProps","ctx","defaultGetInitialProps","body","InternalFunctionDocument"],"mappings":"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","ignoreList":[0]}