{"version":3,"file":"real.js","names":[],"sources":["../../../src/pg-core/columns/real.ts"],"sourcesContent":["import { entityKind } from '~/entity.ts';\nimport type { PgTable } from '~/pg-core/table.ts';\nimport { PgColumn, PgColumnBuilder } from './common.ts';\n\nexport class PgRealBuilder extends PgColumnBuilder<\n\t{\n\t\tdataType: 'number float';\n\t\tdata: number;\n\t\tdriverParam: string | number;\n\t},\n\t{ length: number | undefined }\n> {\n\tstatic override readonly [entityKind]: string = 'PgRealBuilder';\n\n\tconstructor(name: string, length?: number) {\n\t\tsuper(name, 'number float', 'PgReal');\n\t\tthis.config.length = length;\n\t}\n\n\t/** @internal */\n\toverride build(table: PgTable<any>) {\n\t\treturn new PgReal(table, this.config as any);\n\t}\n}\n\nexport class PgReal extends PgColumn<'number float'> {\n\tstatic override readonly [entityKind]: string = 'PgReal';\n\n\tconstructor(table: PgTable<any>, config: PgRealBuilder['config']) {\n\t\tsuper(table, config);\n\t}\n\n\tgetSQLType(): string {\n\t\treturn 'real';\n\t}\n\n\toverride mapFromDriverValue(value: string | number): number {\n\t\tif (typeof value === 'string') {\n\t\t\treturn Number.parseFloat(value);\n\t\t}\n\t\treturn value;\n\t}\n}\n\nexport function real(name?: string): PgRealBuilder {\n\treturn new PgRealBuilder(name ?? '');\n}\n"],"mappings":";;;;AAIA,IAAa,gBAAb,cAAmC,gBAOjC;CACD,QAA0B,cAAsB;CAEhD,YAAY,MAAc,QAAiB;AAC1C,QAAM,MAAM,gBAAgB,SAAS;AACrC,OAAK,OAAO,SAAS;;;CAItB,AAAS,MAAM,OAAqB;AACnC,SAAO,IAAI,OAAO,OAAO,KAAK,OAAc;;;AAI9C,IAAa,SAAb,cAA4B,SAAyB;CACpD,QAA0B,cAAsB;CAEhD,YAAY,OAAqB,QAAiC;AACjE,QAAM,OAAO,OAAO;;CAGrB,aAAqB;AACpB,SAAO;;CAGR,AAAS,mBAAmB,OAAgC;AAC3D,MAAI,OAAO,UAAU,SACpB,QAAO,OAAO,WAAW,MAAM;AAEhC,SAAO;;;AAIT,SAAgB,KAAK,MAA8B;AAClD,QAAO,IAAI,cAAc,QAAQ,GAAG"}