{"version":3,"file":"schema.cjs","names":["entityKind","schemaName: TName","mysqlTableWithSchema","mysqlViewWithSchema"],"sources":["../../src/mysql-core/schema.ts"],"sourcesContent":["import { entityKind, is } from '~/entity.ts';\nimport { type MySqlTableFn, mysqlTableWithSchema } from './table.ts';\nimport { type mysqlView, mysqlViewWithSchema } from './view.ts';\n\nexport class MySqlSchema<TName extends string = string> {\n\tstatic readonly [entityKind]: string = 'MySqlSchema';\n\n\tconstructor(\n\t\tpublic readonly schemaName: TName,\n\t) {}\n\n\ttable: MySqlTableFn<TName> = (name, columns, extraConfig) => {\n\t\treturn mysqlTableWithSchema(name, columns, extraConfig, this.schemaName);\n\t};\n\n\tview = ((name, columns) => {\n\t\treturn mysqlViewWithSchema(name, columns, this.schemaName);\n\t}) as typeof mysqlView;\n}\n\n/** @deprecated - use `instanceof MySqlSchema` */\nexport function isMySqlSchema(obj: unknown): obj is MySqlSchema {\n\treturn is(obj, MySqlSchema);\n}\n\n/**\n * Create a MySQL schema.\n * https://dev.mysql.com/doc/refman/8.0/en/create-database.html\n *\n * @param name mysql use schema name\n * @returns MySQL schema\n */\nexport function mysqlDatabase<TName extends string>(name: TName) {\n\treturn new MySqlSchema(name);\n}\n\n/**\n * @see mysqlDatabase\n */\nexport const mysqlSchema = mysqlDatabase;\n"],"mappings":";;;;;;AAIA,IAAa,cAAb,MAAwD;CACvD,QAAiBA,0BAAsB;CAEvC,YACC,AAAgBC,YACf;EADe;;CAGjB,SAA8B,MAAM,SAAS,gBAAgB;AAC5D,SAAOC,8CAAqB,MAAM,SAAS,aAAa,KAAK,WAAW;;CAGzE,SAAS,MAAM,YAAY;AAC1B,SAAOC,4CAAoB,MAAM,SAAS,KAAK,WAAW;;;;AAK5D,SAAgB,cAAc,KAAkC;AAC/D,4BAAU,KAAK,YAAY;;;;;;;;;AAU5B,SAAgB,cAAoC,MAAa;AAChE,QAAO,IAAI,YAAY,KAAK;;;;;AAM7B,MAAa,cAAc"}