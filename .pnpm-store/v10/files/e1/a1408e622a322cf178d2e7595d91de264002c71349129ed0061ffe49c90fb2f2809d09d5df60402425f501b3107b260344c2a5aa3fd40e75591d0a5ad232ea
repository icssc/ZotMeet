{"version":3,"file":"query-promise.cjs","names":["entityKind"],"sources":["../src/query-promise.ts"],"sourcesContent":["import { entityKind } from '~/entity.ts';\n\nexport abstract class QueryPromise<T> implements Promise<T> {\n\tstatic readonly [entityKind]: string = 'QueryPromise';\n\n\t[Symbol.toStringTag] = 'QueryPromise';\n\n\tcatch<TResult = never>(\n\t\tonRejected?: ((reason: any) => TResult | PromiseLike<TResult>) | null | undefined,\n\t): Promise<T | TResult> {\n\t\treturn this.then(undefined, onRejected);\n\t}\n\n\tfinally(onFinally?: (() => void) | null | undefined): Promise<T> {\n\t\treturn this.then(\n\t\t\t(value) => {\n\t\t\t\tonFinally?.();\n\t\t\t\treturn value;\n\t\t\t},\n\t\t\t(reason) => {\n\t\t\t\tonFinally?.();\n\t\t\t\tthrow reason;\n\t\t\t},\n\t\t);\n\t}\n\n\tthen<TResult1 = T, TResult2 = never>(\n\t\tonFulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | undefined | null,\n\t\tonRejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | undefined | null,\n\t): Promise<TResult1 | TResult2> {\n\t\treturn this.execute().then(onFulfilled, onRejected);\n\t}\n\n\tabstract execute(): Promise<T>;\n}\n"],"mappings":";;;;AAEA,IAAsB,eAAtB,MAA4D;CAC3D,QAAiBA,0BAAsB;CAEvC,CAAC,OAAO,eAAe;CAEvB,MACC,YACuB;AACvB,SAAO,KAAK,KAAK,QAAW,WAAW;;CAGxC,QAAQ,WAAyD;AAChE,SAAO,KAAK,MACV,UAAU;AACV,gBAAa;AACb,UAAO;MAEP,WAAW;AACX,gBAAa;AACb,SAAM;IAEP;;CAGF,KACC,aACA,YAC+B;AAC/B,SAAO,KAAK,SAAS,CAAC,KAAK,aAAa,WAAW"}