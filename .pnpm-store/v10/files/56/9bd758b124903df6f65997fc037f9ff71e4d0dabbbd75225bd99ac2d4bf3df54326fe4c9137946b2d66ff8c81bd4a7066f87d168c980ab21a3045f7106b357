{"version":3,"sources":["../../../src/build/swc/install-bindings.ts"],"sourcesContent":["/**\n * This module provides a way to install SWC bindings without eagerly loading the entire swc/index module.\n *\n * The swc/index module can transitively load other modules (like webpack-config) that import React,\n * and React's entry point checks process.env.NODE_ENV at require time to decide whether to load\n * the development or production bundle. By deferring the require of swc/index until this function\n * is called, we ensure NODE_ENV is set before React is loaded.\n */\n\n/**\n * Loads and caches the native bindings. This is idempotent and should be called early so bindings\n * can be accessed synchronously later.\n *\n * @param useWasmBinary - Whether to use WASM bindings instead of native bindings\n */\nexport async function installBindings(\n  useWasmBinary: boolean = false\n): Promise<void> {\n  // Lazy require to avoid loading swc/index (and transitively webpack-config/React)\n  // before NODE_ENV is set\n  const { loadBindings } = require('./index') as typeof import('./index')\n  await loadBindings(useWasmBinary)\n}\n"],"names":["installBindings","useWasmBinary","loadBindings","require"],"mappings":"AAAA;;;;;;;CAOC,GAED;;;;;CAKC;;;;+BACqBA;;;eAAAA;;;AAAf,eAAeA,gBACpBC,gBAAyB,KAAK;IAE9B,kFAAkF;IAClF,yBAAyB;IACzB,MAAM,EAAEC,YAAY,EAAE,GAAGC,QAAQ;IACjC,MAAMD,aAAaD;AACrB","ignoreList":[0]}