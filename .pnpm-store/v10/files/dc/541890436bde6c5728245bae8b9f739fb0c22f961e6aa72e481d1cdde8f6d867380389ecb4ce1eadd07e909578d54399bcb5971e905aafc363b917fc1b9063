{"version":3,"file":"migrator.js","names":["pgMigrator","sqliteMigrator","mysqlMigrator"],"sources":["../../src/bun-sql/migrator.ts"],"sourcesContent":["import type { MigrationConfig } from '~/migrator.ts';\nimport type { AnyRelations } from '~/relations.ts';\nimport type { BunMySqlDatabase } from './mysql/driver.ts';\nimport { migrate as mysqlMigrator } from './mysql/migrator.ts';\nimport type { BunSQLDatabase } from './postgres/driver.ts';\nimport { migrate as pgMigrator } from './postgres/migrator.ts';\nimport type { BunSQLiteDatabase } from './sqlite/driver.ts';\nimport { migrate as sqliteMigrator } from './sqlite/migrator.ts';\n\nexport async function migrate<TSchema extends Record<string, unknown>, TRelations extends AnyRelations>(\n\tdb: BunSQLDatabase<TSchema, TRelations>,\n\tconfig: MigrationConfig,\n) {\n\treturn pgMigrator(db, config);\n}\n\nexport namespace migrate {\n\texport async function postgres<TSchema extends Record<string, unknown>, TRelations extends AnyRelations>(\n\t\tdb: BunSQLDatabase<TSchema, TRelations>,\n\t\tconfig: MigrationConfig,\n\t) {\n\t\treturn pgMigrator(db, config);\n\t}\n\n\texport async function sqlite<TSchema extends Record<string, unknown>, TRelations extends AnyRelations>(\n\t\tdb: BunSQLiteDatabase<TSchema, TRelations>,\n\t\tconfig: MigrationConfig,\n\t) {\n\t\treturn sqliteMigrator(db, config);\n\t}\n\n\texport async function mysql<TSchema extends Record<string, unknown>, TRelations extends AnyRelations>(\n\t\tdb: BunMySqlDatabase<TSchema, TRelations>,\n\t\tconfig: MigrationConfig,\n\t) {\n\t\treturn mysqlMigrator(db, config);\n\t}\n}\n"],"mappings":";;;;;AASA,eAAsB,QACrB,IACA,QACC;AACD,QAAOA,UAAW,IAAI,OAAO;;;CAItB,eAAe,SACrB,IACA,QACC;AACD,SAAOA,UAAW,IAAI,OAAO;;;CAGvB,eAAe,OACrB,IACA,QACC;AACD,SAAOC,UAAe,IAAI,OAAO;;;CAG3B,eAAe,MACrB,IACA,QACC;AACD,SAAOC,UAAc,IAAI,OAAO"}