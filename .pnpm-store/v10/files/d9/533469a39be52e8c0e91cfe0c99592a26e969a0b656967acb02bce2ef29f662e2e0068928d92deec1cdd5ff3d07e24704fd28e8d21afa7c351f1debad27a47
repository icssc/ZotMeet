{"version":3,"file":"bit.js","names":[],"sources":["../../../../src/pg-core/columns/vector_extension/bit.ts"],"sourcesContent":["import { entityKind } from '~/entity.ts';\nimport type { PgTable } from '~/pg-core/table.ts';\nimport { getColumnNameAndConfig } from '~/utils.ts';\nimport { PgColumn, PgColumnBuilder } from '../common.ts';\n\nexport class PgBinaryVectorBuilder extends PgColumnBuilder<\n\t{\n\t\tdataType: 'string binary';\n\t\tdata: string;\n\t\tdriverParam: string;\n\t},\n\t{ length: number; isLengthExact: true }\n> {\n\tstatic override readonly [entityKind]: string = 'PgBinaryVectorBuilder';\n\n\tconstructor(name: string, config: PgBinaryVectorConfig) {\n\t\tsuper(name, 'string binary', 'PgBinaryVector');\n\t\tthis.config.length = config.dimensions;\n\t\tthis.config.isLengthExact = true;\n\t}\n\n\t/** @internal */\n\toverride build(table: PgTable<any>) {\n\t\treturn new PgBinaryVector(\n\t\t\ttable,\n\t\t\tthis.config as any,\n\t\t);\n\t}\n}\n\nexport class PgBinaryVector extends PgColumn<'string binary'> {\n\tstatic override readonly [entityKind]: string = 'PgBinaryVector';\n\n\tgetSQLType(): string {\n\t\treturn `bit(${this.length})`;\n\t}\n}\n\nexport interface PgBinaryVectorConfig {\n\tdimensions: number;\n}\n\nexport function bit(\n\tconfig: PgBinaryVectorConfig,\n): PgBinaryVectorBuilder;\nexport function bit(\n\tname: string,\n\tconfig: PgBinaryVectorConfig,\n): PgBinaryVectorBuilder;\nexport function bit(a: string | PgBinaryVectorConfig, b?: PgBinaryVectorConfig) {\n\tconst { name, config } = getColumnNameAndConfig<PgBinaryVectorConfig>(a, b);\n\treturn new PgBinaryVectorBuilder(name, config);\n}\n"],"mappings":";;;;;AAKA,IAAa,wBAAb,cAA2C,gBAOzC;CACD,QAA0B,cAAsB;CAEhD,YAAY,MAAc,QAA8B;AACvD,QAAM,MAAM,iBAAiB,iBAAiB;AAC9C,OAAK,OAAO,SAAS,OAAO;AAC5B,OAAK,OAAO,gBAAgB;;;CAI7B,AAAS,MAAM,OAAqB;AACnC,SAAO,IAAI,eACV,OACA,KAAK,OACL;;;AAIH,IAAa,iBAAb,cAAoC,SAA0B;CAC7D,QAA0B,cAAsB;CAEhD,aAAqB;AACpB,SAAO,OAAO,KAAK,OAAO;;;AAe5B,SAAgB,IAAI,GAAkC,GAA0B;CAC/E,MAAM,EAAE,MAAM,WAAW,uBAA6C,GAAG,EAAE;AAC3E,QAAO,IAAI,sBAAsB,MAAM,OAAO"}