{"version":3,"sources":["../../../../../src/server/typescript/rules/config.ts"],"sourcesContent":["// This module provides intellisense for page and layout's exported configs.\n\nimport {\n  getSource,\n  isPositionInsideNode,\n  getTs,\n  removeStringQuotes,\n  getTypeChecker,\n} from '../utils'\nimport { NEXT_TS_ERRORS, ALLOWED_EXPORTS } from '../constant'\nimport type tsModule from 'typescript/lib/tsserverlibrary'\nimport type { AppSegmentConfig } from '../../../build/segment-config/app/app-segment-config'\n\nconst API_DOCS: Record<\n  string,\n  {\n    description: string\n    options?: Record<string, string>\n    link?: string\n    type?: string\n    isValid?: (value: string) => boolean\n    getHint?: (value: any) => string | undefined\n    insertText?: string\n  }\n> = {\n  dynamic: {\n    description:\n      'The `dynamic` option provides a few ways to opt in or out of dynamic behavior.',\n    options: {\n      '\"auto\"':\n        \"Heuristic to cache as much as possible but doesn't prevent any component to opt-in to dynamic behavior.\",\n      '\"force-dynamic\"':\n        'This disables all caching of fetches and always revalidates. (This is equivalent to `getServerSideProps`.)',\n      '\"error\"':\n        'This errors if any dynamic Hooks or fetches are used. (This is equivalent to `getStaticProps`.)',\n      '\"force-static\"':\n        'This forces caching of all fetches and returns empty values from `cookies`, `headers` and `useSearchParams`.',\n    } satisfies DocsOptionsObject<FullAppSegmentConfig['dynamic']>,\n    link: 'https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config#dynamic',\n  },\n  fetchCache: {\n    description:\n      \"The `fetchCache` option controls how Next.js statically caches fetches. By default it statically caches fetches reachable before any dynamic Hooks are used, and it doesn't cache fetches that are discovered after that.\",\n    options: {\n      '\"force-no-store\"':\n        \"This lets you intentionally opt-out of all caching of data. This option forces all fetches to be refetched every request even if the `cache: 'force-cache'` option is passed to `fetch()`.\",\n      '\"only-no-store\"':\n        \"This lets you enforce that all data opts out of caching. This option makes `fetch()` reject with an error if `cache: 'force-cache'` is provided. It also changes the default to `no-store`.\",\n      '\"default-no-store\"':\n        \"Allows any explicit `cache` option to be passed to `fetch()` but if `'default'`, or no option, is provided then it defaults to `'no-store'`. This means that even fetches before a dynamic Hook are considered dynamic.\",\n      '\"auto\"':\n        \"This is the default option. It caches any fetches with the default `cache` option provided, that happened before a dynamic Hook is used and don't cache any such fetches if they're issued after a dynamic Hook.\",\n      '\"default-cache\"':\n        \"Allows any explicit `cache` option to be passed to `fetch()` but if `'default'`, or no option, is provided then it defaults to `'force-cache'`. This means that even fetches before a dynamic Hook are considered dynamic.\",\n      '\"only-cache\"':\n        \"This lets you enforce that all data opts into caching. This option makes `fetch()` reject with an error if `cache: 'force-cache'` is provided. It also changes the default to `force-cache`. This error can be discovered early during static builds - or dynamically during Edge rendering.\",\n      '\"force-cache\"':\n        \"This lets you intentionally opt-in to all caching of data. This option forces all fetches to be cache even if the `cache: 'no-store'` option is passed to `fetch()`.\",\n    } satisfies DocsOptionsObject<FullAppSegmentConfig['fetchCache']>,\n    link: 'https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config#fetchcache',\n  },\n  preferredRegion: {\n    description:\n      'Specify the perferred region that this layout or page should be deployed to. If the region option is not specified, it inherits the option from the nearest parent layout. The root defaults to `\"auto\"`.\\n\\nYou can also specify a region, such as \"iad1\", or an array of regions, such as `[\"iad1\", \"sfo1\"]`.',\n    options: {\n      '\"auto\"':\n        'Next.js will first deploy to the `\"home\"` region. Then if it doesn\\'t detect any waterfall requests after a few requests, it can upgrade that route, to be deployed globally. If it detects any waterfall requests after that, it can eventually downgrade back to `\"home`\".',\n      '\"global\"': 'Prefer deploying globally.',\n      '\"home\"': 'Prefer deploying to the Home region.',\n    },\n    link: 'https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config#preferredregion',\n    isValid: (value: string) => {\n      try {\n        const parsed = JSON.parse(value)\n        return (\n          typeof parsed === 'string' ||\n          (Array.isArray(parsed) && !parsed.some((v) => typeof v !== 'string'))\n        )\n      } catch (err) {\n        return false\n      }\n    },\n    getHint: (value: any) => {\n      if (value === 'auto') return `Automatically chosen by Next.js.`\n      if (value === 'global') return `Prefer deploying globally.`\n      if (value === 'home') return `Prefer deploying to the Home region.`\n      if (Array.isArray(value)) return `Deploy to regions: ${value.join(', ')}.`\n      if (typeof value === 'string') return `Deploy to region: ${value}.`\n    },\n  },\n  revalidate: {\n    description:\n      \"The `revalidate` option sets the default revalidation time for that layout or page. Note that it doesn't override the value specify by each `fetch()`.\",\n    type: 'mixed',\n    options: {\n      false:\n        'This is the default and changes the fetch cache to indefinitely cache anything that uses force-cache or is fetched before a dynamic Hook/fetch.',\n      0: 'Specifying `0` implies that this layout or page should never be static.',\n      30: 'Set the revalidation time to `30` seconds. The value can be `0` or any positive number.',\n    },\n    link: 'https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config#revalidate',\n    isValid: (value: string) => {\n      return value === 'false' || Number(value.replace(/_/g, '')) >= 0\n    },\n    getHint: (value: any) => {\n      return `Set the default revalidation time to \\`${value}\\` seconds.`\n    },\n  },\n  dynamicParams: {\n    description:\n      '`dynamicParams` replaces the `fallback` option of `getStaticPaths`. It controls whether we allow `dynamicParams` beyond the generated static params from `generateStaticParams`.',\n    options: {\n      true: 'Allow rendering dynamic params that are not generated by `generateStaticParams`.',\n      false:\n        'Disallow rendering dynamic params that are not generated by `generateStaticParams`.',\n    } satisfies DocsOptionsObject<FullAppSegmentConfig['dynamicParams']>,\n    link: 'https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config#dynamicparams',\n    isValid: (value: string) => {\n      return value === 'true' || value === 'false'\n    },\n  },\n  runtime: {\n    description:\n      'The `runtime` option controls the preferred runtime to render this route.',\n    options: {\n      '\"nodejs\"': 'Prefer the Node.js runtime.',\n      '\"edge\"': 'Prefer the Edge runtime.',\n      '\"experimental-edge\"': `@deprecated\\n\\nThis option is no longer experimental. Use \\`edge\\` instead.`,\n    } satisfies DocsOptionsObject<\n      FullAppSegmentConfig['runtime'] | 'experimental-edge'\n    >,\n    link: 'https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config#runtime',\n  },\n  metadata: {\n    description: 'Next.js Metadata configurations',\n    link: 'https://nextjs.org/docs/app/building-your-application/optimizing/metadata',\n    insertText: 'metadata: Metadata = {};',\n  },\n  generateMetadata: {\n    description: 'Next.js generateMetadata configurations',\n    link: 'https://nextjs.org/docs/app/api-reference/functions/generate-metadata',\n    insertText: 'generateMetadata = (): Metadata => { return {} };',\n  },\n  maxDuration: {\n    description:\n      '`maxDuration` allows you to set max default execution time for your function. If it is not specified, the default value is dependent on your deployment platform and plan.',\n    link: 'https://nextjs.org/docs/app/api-reference/file-conventions/route-segment-config#maxduration',\n  },\n  unstable_prefetch: {\n    description: `Specifies the default prefetching behavior for this segment. This configuration is currently under development and will change.`,\n    link: '(docs coming soon)',\n    type: 'object',\n    // TODO: ideally, we'd validate the config object somehow, but this is difficult to do\n    // with the way this plugin is currently structured.\n    // For now, since we don't provide an `options` here, we won't do any validation in\n    // `getSemanticDiagnosticsForExportVariableStatement` below, and only provide hover a tooltip + autocomplete.\n    insertText: 'unstable_prefetch = { mode: \"static\" };',\n  },\n}\n\ntype FullAppSegmentConfig = Required<AppSegmentConfig>\n\n/**\n * Maps a type for a config value to a docs object that lists all its values.\n * This ensures that all the valid options are listed.\n * Note that values that aren't primitives are skipped.\n *\n * ```\n * DocsOptionsObject<0 | false | \"yes\"> = { 0: string, false: string, '\"yes\"': string }\n * ```\n */\ntype DocsOptionsObject<T> = {\n  [Value in T as AsObjectKey<Value>]: string\n}\n\ntype AsObjectKey<Value> = Value extends string\n  ? `\"${Value}\"`\n  : Value extends number | boolean | null | undefined\n    ? `${Value}`\n    : never\n\nfunction visitEntryConfig(\n  fileName: string,\n  position: number,\n  callback: (entryEonfig: string, value: tsModule.VariableDeclaration) => void\n) {\n  const source = getSource(fileName)\n  if (source) {\n    const ts = getTs()\n    ts.forEachChild(source, function visit(node) {\n      // Covered by this node\n      if (isPositionInsideNode(position, node)) {\n        // Export variable\n        if (\n          ts.isVariableStatement(node) &&\n          node.modifiers?.some((m) => m.kind === ts.SyntaxKind.ExportKeyword)\n        ) {\n          if (ts.isVariableDeclarationList(node.declarationList)) {\n            for (const declaration of node.declarationList.declarations) {\n              if (isPositionInsideNode(position, declaration)) {\n                // `export const ... = ...`\n                const text = declaration.name.getText()\n                callback(text, declaration)\n              }\n            }\n          }\n        }\n      }\n    })\n  }\n}\n\nfunction createAutoCompletionOptionName(sort: number, name: string) {\n  const ts = getTs()\n\n  return {\n    name,\n    insertText: API_DOCS[name].insertText,\n    sortText: '!' + sort,\n    kind: ts.ScriptElementKind.constElement,\n    kindModifiers: ts.ScriptElementKindModifier.exportedModifier,\n    labelDetails: {\n      description: `Next.js ${name} option`,\n    },\n    data: {\n      exportName: name,\n      moduleSpecifier: 'next/typescript/entry_option_name',\n    },\n  } as tsModule.CompletionEntry\n}\n\nfunction createAutoCompletionOptionValue(\n  sort: number,\n  name: string,\n  apiName: string\n) {\n  const ts = getTs()\n  const isString = name.startsWith('\"')\n  return {\n    name,\n    insertText: removeStringQuotes(name),\n    sortText: '' + sort,\n    kind: isString ? ts.ScriptElementKind.string : ts.ScriptElementKind.unknown,\n    kindModifiers: ts.ScriptElementKindModifier.none,\n    labelDetails: {\n      description: `Next.js ${apiName} option`,\n    },\n    data: {\n      exportName: apiName,\n      moduleSpecifier: 'next/typescript/entry_option_value',\n    },\n  } as tsModule.CompletionEntry\n}\n\nfunction getAPIDescription(api: string): string {\n  return (\n    API_DOCS[api].description +\n    '\\n\\n' +\n    Object.entries(API_DOCS[api].options || {})\n      .map(([key, value]) => `- \\`${key}\\`: ${value}`)\n      .join('\\n')\n  )\n}\n\nconst config = {\n  // Auto completion for entry exported configs.\n  addCompletionsAtPosition(\n    fileName: string,\n    position: number,\n    prior: tsModule.WithMetadata<tsModule.CompletionInfo>\n  ) {\n    visitEntryConfig(fileName, position, (entryConfig, declaration) => {\n      if (!API_DOCS[entryConfig]) {\n        if (isPositionInsideNode(position, declaration.name)) {\n          prior.entries.push(\n            ...Object.keys(API_DOCS).map((name, index) => {\n              return createAutoCompletionOptionName(index, name)\n            })\n          )\n        }\n        return\n      }\n\n      prior.entries.push(\n        ...Object.keys(API_DOCS[entryConfig].options || {}).map(\n          (name, index) => {\n            return createAutoCompletionOptionValue(index, name, entryConfig)\n          }\n        )\n      )\n    })\n  },\n\n  // Show docs when hovering on the exported configs.\n  getQuickInfoAtPosition(fileName: string, position: number) {\n    const ts = getTs()\n\n    let overridden: tsModule.QuickInfo | undefined\n    visitEntryConfig(fileName, position, (entryConfig, declaration) => {\n      if (!API_DOCS[entryConfig]) return\n\n      const name = declaration.name\n      const value = declaration.initializer\n\n      const docsLink = {\n        kind: 'text',\n        text:\n          `\\n\\nRead more about the \"${entryConfig}\" option: ` +\n          API_DOCS[entryConfig].link,\n      }\n\n      // When the value is a flexible type (like a function), also compute its\n      // inferred type so we can surface it alongside the docs. This is useful\n      // even when the value is considered invalid by the config validation,\n      // as long as it's not a direct literal export.\n      let displayParts: tsModule.SymbolDisplayPart[] = []\n      const typeChecker = getTypeChecker()\n      const isString = !!value && ts.isStringLiteral(value)\n      const isFunctionValue =\n        !!value &&\n        !isString &&\n        (ts.isArrowFunction(value) ||\n          ts.isFunctionExpression(value) ||\n          ts.isFunctionDeclaration(value))\n\n      if (typeChecker && value && isFunctionValue) {\n        try {\n          // If we're hovering the config identifier, ask for the type at the\n          // identifier; otherwise, ask at the value node. This makes sure\n          // highlighting `generateMetadata` itself also shows the inferred type.\n          const typeTarget = isPositionInsideNode(position, name) ? name : value\n          const type = typeChecker.getTypeAtLocation(typeTarget)\n          if (type) {\n            const typeString = typeChecker.typeToString(type, typeTarget)\n            if (typeString) {\n              displayParts = [\n                {\n                  text: typeString,\n                  kind: 'typeName',\n                },\n              ]\n            }\n          }\n        } catch {\n          // If type checking fails, continue without type info.\n        }\n      }\n\n      // For non-function values (like literals), hovering the value should show\n      // option-specific docs. For function-valued configs (e.g. `generateMetadata`),\n      // we let TypeScript handle hover anywhere in the initializer except for the\n      // export identifier itself.\n      if (value && !isFunctionValue && isPositionInsideNode(position, value)) {\n        // Hovering the value of the config\n        const text = removeStringQuotes(value.getText())\n        const key = isString ? `\"${text}\"` : text\n\n        const isValid = API_DOCS[entryConfig].isValid\n          ? API_DOCS[entryConfig].isValid?.(key)\n          : !!API_DOCS[entryConfig].options?.[key]\n\n        if (isValid) {\n          overridden = {\n            kind: ts.ScriptElementKind.enumElement,\n            kindModifiers: ts.ScriptElementKindModifier.none,\n            textSpan: {\n              start: value.getStart(),\n              length: value.getWidth(),\n            },\n            displayParts: [],\n            documentation: [\n              {\n                kind: 'text',\n                text:\n                  API_DOCS[entryConfig].options?.[key] ||\n                  API_DOCS[entryConfig].getHint?.(key) ||\n                  '',\n              },\n              docsLink,\n            ],\n          }\n        } else {\n          // Wrong value: still show the docs link, and when available, the\n          // inferred type for non-literal (i.e. non-direct) exports.\n          overridden = {\n            kind: ts.ScriptElementKind.enumElement,\n            kindModifiers: ts.ScriptElementKindModifier.none,\n            textSpan: {\n              start: value.getStart(),\n              length: value.getWidth(),\n            },\n            displayParts,\n            documentation: [docsLink],\n          }\n        }\n      } else {\n        // For function-valued configs, if we're hovering anywhere within the\n        // initializer (including `async`, parameters, or the body) but not on\n        // the export identifier itself, don't override TypeScript's default\n        // hover. We only want to override when hovering the config identifier\n        // (e.g. `generateMetadata`), not arbitrary tokens within the function.\n        if (\n          isFunctionValue &&\n          isPositionInsideNode(position, value) && // hover is somewhere within the function initializer\n          !isPositionInsideNode(position, name) // ...but not on the export identifier itself\n        ) {\n          return\n        }\n        // Hovers the name of the config\n        overridden = {\n          kind: ts.ScriptElementKind.enumElement,\n          kindModifiers: ts.ScriptElementKindModifier.none,\n          textSpan: {\n            start: name.getStart(),\n            length: name.getWidth(),\n          },\n          displayParts,\n          documentation: [\n            {\n              kind: 'text',\n              text: getAPIDescription(entryConfig),\n            },\n            docsLink,\n          ],\n        }\n      }\n    })\n    return overridden\n  },\n\n  // Show details on the side when auto completing.\n  getCompletionEntryDetails(\n    entryName: string,\n    data: tsModule.CompletionEntryData,\n    fileName: string\n  ): tsModule.CompletionEntryDetails | undefined {\n    const ts = getTs()\n    if (\n      data &&\n      data.moduleSpecifier &&\n      data.moduleSpecifier.startsWith('next/typescript')\n    ) {\n      let content = ''\n      if (data.moduleSpecifier === 'next/typescript/entry_option_name') {\n        content = getAPIDescription(entryName)\n      } else {\n        const options = API_DOCS[data.exportName].options\n        if (!options) return\n        content = options[entryName]\n      }\n\n      if (entryName === 'metadata' || entryName === 'generateMetadata') {\n        const sourceFile = getSource(fileName)\n        let start = 0\n        let foundMetadataImport = false\n\n        if (sourceFile) {\n          const visitor: tsModule.Visitor = (node) => {\n            // Check for top directive\n            if (\n              ts.isExpressionStatement(node) &&\n              ts.isStringLiteral(node.expression) &&\n              node.expression.getStart() === 0\n            ) {\n              const text = node.expression.text\n              if (text.startsWith('use ')) {\n                start = node.end + 1\n                return node // Continue traversal\n              }\n            }\n\n            // Check for Metadata import\n            if (\n              ts.isImportDeclaration(node) &&\n              (node.moduleSpecifier.getText() === '\"next\"' ||\n                node.moduleSpecifier.getText() === \"'next'\")\n            ) {\n              const namedImports = node.importClause?.namedBindings\n              if (namedImports && ts.isNamedImports(namedImports)) {\n                foundMetadataImport = namedImports.elements.some((element) => {\n                  const name = element.name.getText()\n                  const propertyName = element.propertyName?.getText()\n                  return name === 'Metadata' || propertyName === 'Metadata'\n                })\n                if (foundMetadataImport) {\n                  return // Stop traversal\n                }\n              }\n            }\n\n            return node\n          }\n\n          for (const statement of sourceFile.statements) {\n            if (foundMetadataImport) break\n            ts.visitNode(statement, visitor)\n          }\n        }\n\n        return {\n          name: entryName,\n          kind: ts.ScriptElementKind.enumElement,\n          kindModifiers: ts.ScriptElementKindModifier.none,\n          displayParts: [],\n          codeActions: foundMetadataImport\n            ? undefined\n            : [\n                {\n                  description: `Import type 'Metadata' from module 'next'`,\n                  changes: [\n                    {\n                      fileName,\n                      textChanges: [\n                        {\n                          span: { start, length: 0 },\n                          newText: `import type { Metadata } from 'next';\\n`,\n                        },\n                      ],\n                    },\n                  ],\n                },\n              ],\n          documentation: [\n            {\n              kind: 'text',\n              text: content,\n            },\n          ],\n        }\n      }\n\n      return {\n        name: entryName,\n        kind: ts.ScriptElementKind.enumElement,\n        kindModifiers: ts.ScriptElementKindModifier.none,\n        displayParts: [],\n        documentation: [\n          {\n            kind: 'text',\n            text: content,\n          },\n        ],\n      }\n    }\n  },\n\n  // Show errors for invalid export fields.\n  getSemanticDiagnosticsForExportVariableStatement(\n    source: tsModule.SourceFile,\n    node: tsModule.VariableStatement\n  ) {\n    const ts = getTs()\n\n    const diagnostics: tsModule.Diagnostic[] = []\n\n    // Check if it has correct option exports\n    if (ts.isVariableDeclarationList(node.declarationList)) {\n      for (const declaration of node.declarationList.declarations) {\n        const name = declaration.name\n        if (ts.isIdentifier(name)) {\n          if (!ALLOWED_EXPORTS.includes(name.text) && !API_DOCS[name.text]) {\n            diagnostics.push({\n              file: source,\n              category: ts.DiagnosticCategory.Error,\n              code: NEXT_TS_ERRORS.INVALID_ENTRY_EXPORT,\n              messageText: `\"${name.text}\" is not a valid Next.js entry export value.`,\n              start: name.getStart(),\n              length: name.getWidth(),\n            })\n          } else if (API_DOCS[name.text]) {\n            // Check if the value is valid\n            const value = declaration.initializer\n            const options = API_DOCS[name.text].options\n\n            if (value && options) {\n              let displayedValue = ''\n              let errorMessage = ''\n              let isInvalid = false\n\n              if (\n                ts.isStringLiteral(value) ||\n                ts.isNoSubstitutionTemplateLiteral(value)\n              ) {\n                const val = '\"' + removeStringQuotes(value.getText()) + '\"'\n                const allowedValues = Object.keys(options).filter((v) =>\n                  /^['\"]/.test(v)\n                )\n\n                if (\n                  !allowedValues.includes(val) &&\n                  !API_DOCS[name.text].isValid?.(val)\n                ) {\n                  isInvalid = true\n                  displayedValue = val\n                }\n              } else if (\n                ts.isNumericLiteral(value) ||\n                (ts.isPrefixUnaryExpression(value) &&\n                  ts.isMinusToken((value as any).operator) &&\n                  (ts.isNumericLiteral((value as any).operand.kind) ||\n                    (ts.isIdentifier((value as any).operand.kind) &&\n                      (value as any).operand.kind.getText() === 'Infinity'))) ||\n                (ts.isIdentifier(value) && value.getText() === 'Infinity')\n              ) {\n                const v = value.getText()\n                if (!API_DOCS[name.text].isValid?.(v)) {\n                  isInvalid = true\n                  displayedValue = v\n                }\n              } else if (\n                value.kind === ts.SyntaxKind.TrueKeyword ||\n                value.kind === ts.SyntaxKind.FalseKeyword\n              ) {\n                const v = value.getText()\n                if (!API_DOCS[name.text].isValid?.(v)) {\n                  isInvalid = true\n                  displayedValue = v\n                }\n              } else if (ts.isArrayLiteralExpression(value)) {\n                const v = value.getText()\n                if (\n                  !API_DOCS[name.text].isValid?.(\n                    JSON.stringify(value.elements.map((e) => e.getText()))\n                  )\n                ) {\n                  isInvalid = true\n                  displayedValue = v\n                }\n              } else if (\n                // Other literals\n                ts.isBigIntLiteral(value) ||\n                ts.isObjectLiteralExpression(value) ||\n                ts.isRegularExpressionLiteral(value) ||\n                ts.isPrefixUnaryExpression(value)\n              ) {\n                isInvalid = true\n                displayedValue = value.getText()\n              } else {\n                // Not a literal, error because it's not statically analyzable\n                isInvalid = true\n                displayedValue = value.getText()\n                errorMessage = `\"${displayedValue}\" is not a valid value for the \"${name.text}\" option. The configuration must be statically analyzable.`\n              }\n\n              if (isInvalid) {\n                diagnostics.push({\n                  file: source,\n                  category: ts.DiagnosticCategory.Error,\n                  code: NEXT_TS_ERRORS.INVALID_OPTION_VALUE,\n                  messageText:\n                    errorMessage ||\n                    `\"${displayedValue}\" is not a valid value for the \"${name.text}\" option.`,\n                  start: value.getStart(),\n                  length: value.getWidth(),\n                })\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return diagnostics\n  },\n}\n\nexport default config\n"],"names":["getSource","isPositionInsideNode","getTs","removeStringQuotes","getTypeChecker","NEXT_TS_ERRORS","ALLOWED_EXPORTS","API_DOCS","dynamic","description","options","link","fetchCache","preferredRegion","isValid","value","parsed","JSON","parse","Array","isArray","some","v","err","getHint","join","revalidate","type","false","Number","replace","dynamicParams","true","runtime","metadata","insertText","generateMetadata","maxDuration","unstable_prefetch","visitEntryConfig","fileName","position","callback","source","ts","forEachChild","visit","node","isVariableStatement","modifiers","m","kind","SyntaxKind","ExportKeyword","isVariableDeclarationList","declarationList","declaration","declarations","text","name","getText","createAutoCompletionOptionName","sort","sortText","ScriptElementKind","constElement","kindModifiers","ScriptElementKindModifier","exportedModifier","labelDetails","data","exportName","moduleSpecifier","createAutoCompletionOptionValue","apiName","isString","startsWith","string","unknown","none","getAPIDescription","api","Object","entries","map","key","config","addCompletionsAtPosition","prior","entryConfig","push","keys","index","getQuickInfoAtPosition","overridden","initializer","docsLink","displayParts","typeChecker","isStringLiteral","isFunctionValue","isArrowFunction","isFunctionExpression","isFunctionDeclaration","typeTarget","getTypeAtLocation","typeString","typeToString","enumElement","textSpan","start","getStart","length","getWidth","documentation","getCompletionEntryDetails","entryName","content","sourceFile","foundMetadataImport","visitor","isExpressionStatement","expression","end","isImportDeclaration","namedImports","importClause","namedBindings","isNamedImports","elements","element","propertyName","statement","statements","visitNode","codeActions","undefined","changes","textChanges","span","newText","getSemanticDiagnosticsForExportVariableStatement","diagnostics","isIdentifier","includes","file","category","DiagnosticCategory","Error","code","INVALID_ENTRY_EXPORT","messageText","displayedValue","errorMessage","isInvalid","isNoSubstitutionTemplateLiteral","val","allowedValues","filter","test","isNumericLiteral","isPrefixUnaryExpression","isMinusToken","operator","operand","TrueKeyword","FalseKeyword","isArrayLiteralExpression","stringify","e","isBigIntLiteral","isObjectLiteralExpression","isRegularExpressionLiteral","INVALID_OPTION_VALUE"],"mappings":"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","ignoreList":[0]}