{"version":3,"file":"expressions.cjs","names":["chunks: SQLChunk[]","sql"],"sources":["../../src/sqlite-core/expressions.ts"],"sourcesContent":["import { bindIfParam } from '~/sql/expressions/index.ts';\nimport type { SQL, SQLChunk, SQLWrapper } from '~/sql/sql.ts';\nimport { sql } from '~/sql/sql.ts';\nimport type { SQLiteColumn } from '~/sqlite-core/columns/index.ts';\n\nexport * from '~/sql/expressions/index.ts';\n\nexport function concat(column: SQLiteColumn | SQL.Aliased, value: string | SQLWrapper): SQL {\n\treturn sql`${column} || ${bindIfParam(value, column)}`;\n}\n\nexport function substring(\n\tcolumn: SQLiteColumn | SQL.Aliased,\n\t{ from, for: _for }: { from?: number | SQLWrapper; for?: number | SQLWrapper },\n): SQL {\n\tconst chunks: SQLChunk[] = [sql`substring(`, column];\n\tif (from !== undefined) {\n\t\tchunks.push(sql` from `, bindIfParam(from, column));\n\t}\n\tif (_for !== undefined) {\n\t\tchunks.push(sql` for `, bindIfParam(_for, column));\n\t}\n\tchunks.push(sql`)`);\n\treturn sql.join(chunks);\n}\n\nexport function rowId(): SQL<number> {\n\treturn sql<number>`rowid`;\n}\n"],"mappings":";;;;;AAOA,SAAgB,OAAO,QAAoC,OAAiC;AAC3F,QAAO,gBAAG,GAAG,OAAO,kDAAkB,OAAO,OAAO;;AAGrD,SAAgB,UACf,QACA,EAAE,MAAM,KAAK,QACP;CACN,MAAMA,SAAqB,CAAC,gBAAG,cAAc,OAAO;AACpD,KAAI,SAAS,OACZ,QAAO,KAAK,gBAAG,sDAAsB,MAAM,OAAO,CAAC;AAEpD,KAAI,SAAS,OACZ,QAAO,KAAK,gBAAG,qDAAqB,MAAM,OAAO,CAAC;AAEnD,QAAO,KAAK,gBAAG,IAAI;AACnB,QAAOC,iBAAI,KAAK,OAAO;;AAGxB,SAAgB,QAAqB;AACpC,QAAO,gBAAW"}