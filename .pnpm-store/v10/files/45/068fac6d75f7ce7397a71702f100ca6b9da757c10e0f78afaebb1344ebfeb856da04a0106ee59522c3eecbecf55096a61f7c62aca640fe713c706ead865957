{"version":3,"file":"errors.js","names":["query: string","params: any[]","cause?: Error"],"sources":["../../src/effect-core/errors.ts"],"sourcesContent":["import { TaggedError } from 'effect/Data';\nimport { entityKind } from '~/entity.ts';\n\nexport class TaggedDrizzleError extends TaggedError('DrizzleError') {\n\tstatic readonly [entityKind]: string = 'TaggedDrizzleError';\n\n\toverride readonly message: string;\n\toverride readonly cause?: unknown;\n\n\tconstructor({ message, cause }: { message?: string; cause?: unknown }) {\n\t\tsuper();\n\t\tthis.name = 'TaggedDrizzleError';\n\t\tthis.message = message ?? '';\n\t\tthis.cause = cause;\n\t}\n}\n\nexport class TaggedDrizzleQueryError extends TaggedError('DrizzleQueryError') {\n\tstatic readonly [entityKind]: string = 'TaggedDrizzleQueryError';\n\n\toverride readonly message: string;\n\n\tconstructor(\n\t\tpublic readonly query: string,\n\t\tpublic readonly params: any[],\n\t\tpublic override cause?: Error,\n\t) {\n\t\tsuper();\n\t\tthis.message = `Failed query: ${query}\\nparams: ${params}`;\n\t\tError.captureStackTrace(this, TaggedDrizzleQueryError);\n\n\t\t// ES2022+: preserves original error on `.cause`\n\t\tif (cause) (this as any).cause = cause;\n\t}\n}\n\nexport class TaggedTransactionRollbackError extends TaggedError('TransactionRollbackError') {\n\tstatic readonly [entityKind]: string = 'TaggedTransactionRollbackError';\n\n\toverride readonly message = 'Rollback';\n}\n"],"mappings":";;;;AAGA,IAAa,qBAAb,cAAwC,YAAY,eAAe,CAAC;CACnE,QAAiB,cAAsB;CAEvC,AAAkB;CAClB,AAAkB;CAElB,YAAY,EAAE,SAAS,SAAgD;AACtE,SAAO;AACP,OAAK,OAAO;AACZ,OAAK,UAAU,WAAW;AAC1B,OAAK,QAAQ;;;AAIf,IAAa,0BAAb,MAAa,gCAAgC,YAAY,oBAAoB,CAAC;CAC7E,QAAiB,cAAsB;CAEvC,AAAkB;CAElB,YACC,AAAgBA,OAChB,AAAgBC,QAChB,AAAgBC,OACf;AACD,SAAO;EAJS;EACA;EACA;AAGhB,OAAK,UAAU,iBAAiB,MAAM,YAAY;AAClD,QAAM,kBAAkB,MAAM,wBAAwB;AAGtD,MAAI,MAAO,CAAC,KAAa,QAAQ;;;AAInC,IAAa,iCAAb,cAAoD,YAAY,2BAA2B,CAAC;CAC3F,QAAiB,cAAsB;CAEvC,AAAkB,UAAU"}