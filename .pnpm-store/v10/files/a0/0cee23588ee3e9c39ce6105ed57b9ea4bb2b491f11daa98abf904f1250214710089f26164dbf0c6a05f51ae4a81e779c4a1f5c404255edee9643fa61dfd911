{"version":3,"file":"migrator.js","names":["coreMigrate"],"sources":["../../src/pglite/migrator.ts"],"sourcesContent":["import type { MigrationConfig } from '~/migrator.ts';\nimport { readMigrationFiles } from '~/migrator.ts';\nimport { migrate as coreMigrate } from '~/pg-core/async/session.ts';\nimport type { AnyRelations } from '~/relations.ts';\nimport type { PgliteDatabase } from './driver.ts';\n\nexport async function migrate<TSchema extends Record<string, unknown>, TRelations extends AnyRelations>(\n\tdb: PgliteDatabase<TSchema, TRelations>,\n\tconfig: MigrationConfig,\n) {\n\tconst migrations = readMigrationFiles(config);\n\treturn await coreMigrate(migrations, db.session, config);\n}\n"],"mappings":";;;;AAMA,eAAsB,QACrB,IACA,QACC;AAED,QAAO,MAAMA,UADM,mBAAmB,OAAO,EACR,GAAG,SAAS,OAAO"}