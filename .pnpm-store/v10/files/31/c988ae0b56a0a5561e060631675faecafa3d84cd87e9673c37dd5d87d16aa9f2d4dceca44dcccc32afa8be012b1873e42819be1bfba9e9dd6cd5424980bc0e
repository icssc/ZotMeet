{"version":3,"file":"pool.js","names":[],"sources":["../../src/node-mssql/pool.ts"],"sourcesContent":["import mssql from 'mssql';\nimport { entityKind } from '~/entity.ts';\n\nexport class AutoPool {\n\tstatic readonly [entityKind]: string = 'AutoPool';\n\n\tprivate pool: mssql.ConnectionPool;\n\n\tconstructor(config: string | mssql.config) {\n\t\tthis.pool = new mssql.ConnectionPool(config as any);\n\t}\n\n\tasync $instance() {\n\t\tawait this.pool.connect().catch((err) => {\n\t\t\tconsole.error('‚ùå AutoPool failed to connect:', err);\n\t\t\tthrow err;\n\t\t});\n\t\treturn this.pool;\n\t}\n}\n"],"mappings":";;;;AAGA,IAAa,WAAb,MAAsB;CACrB,QAAiB,cAAsB;CAEvC,AAAQ;CAER,YAAY,QAA+B;AAC1C,OAAK,OAAO,IAAI,MAAM,eAAe,OAAc;;CAGpD,MAAM,YAAY;AACjB,QAAM,KAAK,KAAK,SAAS,CAAC,OAAO,QAAQ;AACxC,WAAQ,MAAM,iCAAiC,IAAI;AACnD,SAAM;IACL;AACF,SAAO,KAAK"}