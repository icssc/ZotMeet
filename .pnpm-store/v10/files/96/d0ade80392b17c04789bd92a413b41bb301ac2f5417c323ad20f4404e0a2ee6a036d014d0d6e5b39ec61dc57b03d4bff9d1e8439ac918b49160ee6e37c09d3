const require_rolldown_runtime = require('../_virtual/rolldown_runtime.cjs');
const require_cockroach_core_table = require('./table.cjs');
const require_cockroach_core_sequence = require('./sequence.cjs');
const require_cockroach_core_columns_enum = require('./columns/enum.cjs');
const require_cockroach_core_view = require('./view.cjs');
let __entity_ts = require("../entity.cjs");
let __sql_sql_ts = require("../sql/sql.cjs");

//#region src/cockroach-core/schema.ts
var CockroachSchema = class {
	static [__entity_ts.entityKind] = "CockroachSchema";
	isExisting = false;
	constructor(schemaName) {
		this.schemaName = schemaName;
		this.table = Object.assign(this.table, { withRLS: ((name, columns, extraConfig) => {
			const table = require_cockroach_core_table.cockroachTableWithSchema(name, columns, extraConfig, this.schemaName);
			table[require_cockroach_core_table.EnableRLS] = true;
			return table;
		}) });
	}
	table = ((name, columns, extraConfig) => {
		return require_cockroach_core_table.cockroachTableWithSchema(name, columns, extraConfig, this.schemaName);
	});
	view = ((name, columns) => {
		return require_cockroach_core_view.cockroachViewWithSchema(name, columns, this.schemaName);
	});
	materializedView = ((name, columns) => {
		return require_cockroach_core_view.cockroachMaterializedViewWithSchema(name, columns, this.schemaName);
	});
	enum(enumName, input) {
		return Array.isArray(input) ? require_cockroach_core_columns_enum.cockroachEnumWithSchema(enumName, [...input], this.schemaName) : require_cockroach_core_columns_enum.cockroachEnumObjectWithSchema(enumName, input, this.schemaName);
	}
	sequence = ((name, options) => {
		return require_cockroach_core_sequence.cockroachSequenceWithSchema(name, options, this.schemaName);
	});
	getSQL() {
		return new __sql_sql_ts.SQL([__sql_sql_ts.sql.identifier(this.schemaName)]);
	}
	shouldOmitSQLParens() {
		return true;
	}
	existing() {
		this.isExisting = true;
		return this;
	}
};
function isCockroachSchema(obj) {
	return (0, __entity_ts.is)(obj, CockroachSchema);
}
function cockroachSchema(name) {
	if (name === "public") throw new Error(`You can't specify 'public' as schema name. Postgres is using public schema by default. If you want to use 'public' schema, just use cockroachTable() instead of creating a schema`);
	return new CockroachSchema(name);
}

//#endregion
exports.CockroachSchema = CockroachSchema;
exports.cockroachSchema = cockroachSchema;
exports.isCockroachSchema = isCockroachSchema;
//# sourceMappingURL=schema.cjs.map